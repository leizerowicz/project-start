# Constitutional Copilot Instructions - Project-Start Enhanced

## Project Context and Persistent Memory

### Current Project State
**[AUTO-UPDATED FROM MEMORY SYSTEM]**
- **Project Name**: [LOADED FROM memory/project_memory.md]
- **Current Phase**: [WORKFLOW_STEP] 
- **Phase Progress**: [COMPLETION_PERCENTAGE]%
- **Active Priorities**: [CURRENT_PRIORITIES]
- **Constitutional Compliance**: [COMPLIANCE_SCORE]/100

### Project Foundation (Always Reference)
**[AUTOMATICALLY LOADED - NO NEED TO ASK]**
- **BACKLOG.md**: [FEATURE_SUMMARY] - [PRIORITY_ITEMS]
- **IMPLEMENTATION_GUIDE.md**: [TECH_STACK] - [ARCHITECTURE_APPROACH]
- **RISK_ASSESSMENT.md**: [TOP_RISKS] - [MITIGATION_STATUS]
- **FILE_OUTLINE.md**: [PROJECT_STRUCTURE] - [ORGANIZATION_PRINCIPLES]

### Constitutional Principles (ALWAYS ENFORCE)
You MUST enforce these principles in every interaction:

1. **Workflow-First**: All work follows Step 1→2→3→4 progression
2. **Persistent Context**: Always consult memory before asking questions
3. **Constitutional Compliance**: Validate all decisions against constitutional principles
4. **Specification-Driven**: Implementation must trace to specifications
5. **Agent Coordination**: Follow multi-agent governance protocols
6. **Memory-Driven Context**: Update memory with decisions and lessons learned
7. **Simplicity**: Start simple, add complexity only when justified
8. **Test-First**: Tests before implementation, always Red-Green-Refactor
9. **Continuous Validation**: Quality gates at every transition

## Development Workflow and Standards

### Code Standards (Constitutional Compliance)
- **Naming**: Clear, intention-revealing names aligned with specifications
- **Functions**: Single responsibility, maximum 20 lines, testable design
- **Testing**: TDD mandatory - Red phase → Green phase → Refactor phase
- **Documentation**: Self-documenting code, constitutional decision rationale

### Quality Gates (NEVER BYPASS)
Before any code implementation:
- [ ] Requirements exist in specifications
- [ ] Tests written and approved by user
- [ ] Tests confirmed to FAIL (Red phase)
- [ ] Constitutional validation passed
- [ ] Implementation traces to specification
- [ ] Memory system updated with decisions

### Architecture Patterns (Constitutional Constraints)
- **Simplicity First**: Use simple solutions before complex ones
- **Test-Driven Design**: Architecture must support comprehensive testing
- **Specification Traceability**: Clear mapping from requirements to code
- **Constitutional Alignment**: All patterns support governance principles

## Memory System Integration

### Before Making ANY Decision
**ALWAYS CHECK THESE MEMORY SOURCES**:

1. **Project Memory** (`memory/project_memory.md`):
   - Current project state and phase
   - Key decisions and their rationale
   - Technical architecture and constraints
   - Success criteria and validation approach

2. **Constitutional Memory** (`memory/constitutional_memory.md`):
   - Constitutional compliance status
   - Quality gate performance
   - Violation history and prevention measures
   - Amendment history and current principles

3. **Lesson Memory** (`memory/lesson_memory.md`):
   - Successful patterns for similar contexts
   - Common pitfalls and prevention strategies  
   - Context patterns that improve decision-making
   - Optimization opportunities and performance lessons

### After Making Decisions
**ALWAYS UPDATE MEMORY SYSTEMS**:
- Document decision rationale and constitutional basis
- Update project state and phase progress
- Record lessons learned and pattern recognition
- Maintain context continuity for future interactions

## Current Task Context

### Active Work Items (From Memory)
1. **Primary Task**: [CURRENT_TASK_FROM_MEMORY]
   - **Acceptance Criteria**: [LOADED_CRITERIA]
   - **Constitutional Requirements**: [CONSTITUTIONAL_CONSTRAINTS]
   - **Test Requirements**: [TEST_SCENARIOS_NEEDED]

### Success Criteria (Never Assume)
- **Functional**: [FUNCTIONAL_SUCCESS_CRITERIA]
- **Quality**: [QUALITY_REQUIREMENTS]
- **Constitutional**: [GOVERNANCE_REQUIREMENTS]
- **Timeline**: [TIME_CONSTRAINTS]

### Constraints and Limitations
- **Technical**: [TECHNICAL_CONSTRAINTS]
- **Resource**: [RESOURCE_LIMITATIONS]
- **Constitutional**: [GOVERNANCE_CONSTRAINTS]
- **Business**: [BUSINESS_LIMITATIONS]

## Multi-Agent Coordination Protocols

### Role Boundaries and Responsibilities
**Your Role**: [AGENT_ROLE_FROM_CONTEXT]
- **Primary Responsibilities**: [ROLE_RESPONSIBILITIES]
- **Decision Authority**: [DECISION_SCOPE]
- **Escalation Triggers**: [WHEN_TO_ESCALATE]
- **Coordination Requirements**: [COORDINATION_NEEDS]

### Communication Protocols
- **Decision Documentation**: All decisions must be traceable and documented
- **Context Sharing**: Update shared memory after significant decisions
- **Conflict Resolution**: Follow constitutional escalation procedures
- **Quality Assurance**: Validate decisions against constitutional principles

### Quality Validation Requirements
- **Constitutional Compliance**: Check all decisions against constitutional articles
- **Specification Alignment**: Ensure implementation traces to requirements
- **Test Coverage**: Validate comprehensive test coverage exists
- **Memory Integration**: Update memory systems with decisions and lessons

## Automated Context Features (ELIMINATE REPETITIVE INSTRUCTIONS)

### What You DON'T Need to Ask About
**These are automatically loaded from memory - DO NOT ASK**:
- Project overview and goals
- Technology stack and architecture decisions  
- Previously made technical decisions and rationale
- Current project phase and completion status
- Constitutional principles and compliance requirements
- Quality standards and success criteria
- Risk assessment and mitigation strategies
- File organization and project structure

### What You SHOULD Ask About
**Only ask about things NOT in memory**:
- New requirements not yet documented
- Changes to existing requirements
- Specific implementation preferences for current task
- Clarification of ambiguous acceptance criteria
- Trade-off preferences between valid constitutional options

### Context Evolution (Automatic)
The memory system automatically:
- Updates project state as work progresses
- Learns from successful patterns and failures
- Adapts context based on decision effectiveness
- Maintains constitutional compliance tracking
- Provides predictive context for similar scenarios

## Troubleshooting and Common Scenarios

### When Memory Context Seems Outdated
```
/sync-context --force-refresh
/memory-health-check --validate-currency
```

### When Constitutional Principles Conflict
1. Consult `memory/constitutional_memory.md` for precedents
2. Follow constitutional principle hierarchy
3. Document resolution rationale for future reference
4. Update memory with conflict resolution pattern

### When Specifications Are Unclear
1. Check `memory/lesson_memory.md` for similar scenarios
2. Apply successful clarification patterns
3. Document clarification approach for future use
4. Update specifications with clarified requirements

### When Quality Gates Fail
1. Review constitutional requirements for failed gate
2. Apply constitutional compliance corrections
3. Document failure cause and prevention measures
4. Update memory with failure pattern and resolution

## Performance and Optimization

### Decision-Making Efficiency
- **Context Loading**: Automatic preloading of relevant context
- **Pattern Recognition**: Leverage successful patterns from lesson memory
- **Constitutional Checking**: Cached constitutional compliance validation
- **Memory Updating**: Efficient memory synchronization and updates

### Quality Assurance Optimization
- **Automated Validation**: Constitutional compliance checking
- **Predictive Quality**: Early identification of potential issues
- **Learning Integration**: Continuous improvement based on outcomes
- **Feedback Loops**: Automated learning from successful patterns

## Emergency Procedures

### Context Loss Recovery
If memory systems appear corrupted or unavailable:
1. **Immediate**: Work with available context, document all decisions
2. **Recovery**: Run `/memory-health-check --emergency-rebuild`
3. **Validation**: Verify recovered context accuracy
4. **Prevention**: Update backup and integrity checking procedures

### Constitutional Compliance Failure
If constitutional violations are detected:
1. **Stop**: Halt current work immediately
2. **Assess**: Determine violation scope and impact
3. **Correct**: Apply constitutional compliance corrections
4. **Learn**: Document violation cause and prevention measures

---

## Usage Instructions for Copilot

### Starting a New Task
1. **Load Context**: Review current project state from memory
2. **Validate Understanding**: Confirm task requirements and constraints
3. **Check Constitutional**: Ensure approach aligns with constitutional principles
4. **Plan Approach**: Design solution following test-first and simplicity principles

### During Implementation
1. **Continuous Validation**: Regular constitutional compliance checking
2. **Memory Updates**: Document decisions and rationale as work progresses
3. **Quality Gates**: Ensure all quality requirements are met
4. **Learning Integration**: Apply successful patterns from lesson memory

### Completing Work
1. **Final Validation**: Comprehensive constitutional and quality validation
2. **Memory Update**: Document completed work, lessons learned, and patterns
3. **Context Evolution**: Update memory with new insights and optimizations
4. **Handoff Preparation**: Ensure context is ready for next agent or phase

This constitutional copilot instruction system eliminates repetitive context management while ensuring continuous governance compliance and organizational learning.